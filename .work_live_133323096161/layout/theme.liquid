<!doctype html>
<html lang="en">
  <head>
    <!-- cache-bust: 2026-02-24-hero-quality-pass-01 -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ page_title }} — {{ shop.name }}</title>
  <meta name="description" content="{{ page_description | escape }}">

  {%- comment -%} Font Preloads {%- endcomment -%}
  <link rel="preload" href="{{ 'CormorantGaramond-Variable.ttf' | asset_url }}" as="font" type="font/ttf" crossorigin>
  <link rel="preload" href="{{ 'Inter-Variable.ttf' | asset_url }}" as="font" type="font/ttf" crossorigin>

  {%- comment -%} Global CSS — blocking {%- endcomment -%}
  {{ 'css/base.css' | asset_url | stylesheet_tag }}
  {{ 'css/layout.css' | asset_url | stylesheet_tag }}
  {{ 'css/components/button.css' | asset_url | stylesheet_tag }}

  {%- comment -%} Page-specific CSS — conditional {%- endcomment -%}
  {%- if template.name == 'index' -%}
    {{ 'css/pages/home.css' | asset_url | stylesheet_tag }}
  {%- elsif template.name == 'collection' or template.name == 'list-collections' -%}
    {{ 'css/pages/collection.css' | asset_url | stylesheet_tag }}
  {%- elsif template.name == 'product' -%}
    {{ 'css/pages/product.css' | asset_url | stylesheet_tag }}
    {{ 'css/components/lightbox.css' | asset_url | stylesheet_tag }}
  {%- elsif template.suffix == 'about' -%}
    {{ 'css/pages/about.css' | asset_url | stylesheet_tag }}
  {%- elsif template.suffix == 'contact' -%}
    {{ 'css/pages/contact.css' | asset_url | stylesheet_tag }}
  {%- elsif template.name == 'page' and page.handle == 'about' -%}
    {{ 'css/pages/about.css' | asset_url | stylesheet_tag }}
  {%- elsif template.name == 'page' and template.suffix == blank -%}
    {{ 'css/pages/page.css' | asset_url | stylesheet_tag }}
  {%- endif -%}

  {%- comment -%} Favicon {%- endcomment -%}
  {%- if settings.favicon != blank -%}
    <link rel="icon" type="image/png" href="{{ settings.favicon | image_url: width: 32 }}">
  {%- endif -%}

  {{ content_for_header }}
</head>
<body class="template-{{ template.name }}{% if template.suffix %} template-{{ template.suffix }}{% endif %}">

  {%- comment -%} Loader Overlay {%- endcomment -%}
  <div id="sp-loader" class="sp-loader" aria-hidden="true">
    <div class="sp-loader__content">
      <svg class="sp-loader__logo-svg" viewBox="0 0 200 60" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path class="sp-loader__logo-path" d="M10 50 C 30 10, 50 10, 70 30 S 110 50, 130 30 S 170 10, 190 50" stroke="#C9A84C" stroke-width="1.5" fill="none"/>
      </svg>
      <div class="sp-loader__text" data-split="letters">SWARNA PALACE</div>
    </div>
    <div class="sp-loader__panel sp-loader__panel--left"></div>
    <div class="sp-loader__panel sp-loader__panel--right"></div>
  </div>

  {%- comment -%} Custom Cursor (desktop only) {%- endcomment -%}
  <div id="sp-cursor" class="sp-cursor" aria-hidden="true"></div>
  <div id="sp-cursor-ring" class="sp-cursor-ring" aria-hidden="true">
    <span class="sp-cursor-ring__label"></span>
  </div>

  {%- comment -%} Header {%- endcomment -%}
  {% section 'header' %}

  {%- comment -%} Main Content {%- endcomment -%}
  <main id="sp-main" role="main">
    {{ content_for_layout }}
  </main>

  {%- comment -%} Footer {%- endcomment -%}
  {% section 'footer' %}

  {%- comment -%} Scripts — GSAP Core + Plugins (vendored) {%- endcomment -%}
  <script src="{{ 'js/core/gsap.min.js' | asset_url }}"></script>
  <script src="{{ 'js/core/ScrollTrigger.min.js' | asset_url }}"></script>

  <script src="{{ 'js/core/Flip.min.js' | asset_url }}"></script>
  <script src="{{ 'js/core/lenis.min.js' | asset_url }}"></script>

  {%- comment -%} Global JS {%- endcomment -%}
  <script src="{{ 'js/global/init.js' | asset_url }}"></script>
  <script src="{{ 'js/global/lenis-setup.js' | asset_url }}"></script>
  <script src="{{ 'js/global/loader.js' | asset_url }}"></script>
  <script src="{{ 'js/global/cursor.js' | asset_url }}"></script>
  <script src="{{ 'js/global/cart.js' | asset_url }}"></script>

  {%- comment -%} Page-specific JS — conditional, deferred {%- endcomment -%}
  {%- if template.name == 'index' -%}
    <script src="{{ 'js/pages/home.js' | asset_url }}" defer></script>
  {%- elsif template.name == 'collection' -%}
    <script src="{{ 'js/pages/collection.js' | asset_url }}" defer></script>
  {%- elsif template.name == 'product' -%}
    <script src="{{ 'js/components/lightbox.js' | asset_url }}" defer></script>
    <script src="{{ 'js/pages/product.js' | asset_url }}" defer></script>
  {%- elsif template.suffix == 'about' -%}
    <script src="{{ 'js/pages/about.js' | asset_url }}" defer></script>
  {%- elsif template.suffix == 'contact' -%}
    <script src="{{ 'js/pages/contact.js' | asset_url }}" defer></script>
  {%- elsif template.name == 'page' and page.handle == 'about' -%}
    <script src="{{ 'js/pages/about.js' | asset_url }}" defer></script>
  {%- endif -%}
</body>
</html>
